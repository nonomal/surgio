(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{229:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("ul",[s("li",[t._v("目前 Surgio 仅支持 Node.js 版本 >= 10")]),t._v(" "),s("li",[t._v("文档中出现的命令如无特殊说明都只能运行在 macOS, Linux 或者 WSL 上")])])]),t._v(" "),s("h2",{attrs:{id:"安装-node-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-node-js"}},[t._v("#")]),t._v(" 安装 Node.js")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("如果已安装可跳过")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://nodejs.org/zh-cn/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("前往下载 Node.js"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"新建一个配置仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建一个配置仓库"}},[t._v("#")]),t._v(" 新建一个配置仓库")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init surgio-store my-rule-store\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或 使用国内镜像安装")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init surgio-store my-rule-store --use-cnpm\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 来到仓库目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" my-rule-store\n")])])]),s("h2",{attrs:{id:"术语解释"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#术语解释"}},[t._v("#")]),t._v(" 术语解释")]),t._v(" "),s("p",[t._v("在进入正题之前，我们先解释一下核心的几个术语：")]),t._v(" "),s("h3",{attrs:{id:"provider-提供方"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#provider-提供方"}},[t._v("#")]),t._v(" Provider -- "),s("small",[t._v("提供方")])]),t._v(" "),s("p",[t._v("节点的提供方，可以是一个订阅地址也可以是一组节点的配置。")]),t._v(" "),s("h3",{attrs:{id:"template-模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#template-模板"}},[t._v("#")]),t._v(" Template -- "),s("small",[t._v("模板")])]),t._v(" "),s("p",[t._v("Surgio 根据模板来渲染指定的文件。")]),t._v(" "),s("h3",{attrs:{id:"artifact-产品"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#artifact-产品"}},[t._v("#")]),t._v(" Artifact -- "),s("small",[t._v("产品")])]),t._v(" "),s("p",[t._v("Surgio 生成出的规则就是「产品」。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("以上三者的关系简单来说就是：Surgio 根据 Artifact 的定义将 Provider 的节点用 Template 生成出来可用的配置。")])]),t._v(" "),s("h2",{attrs:{id:"目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),s("div",{staticClass:"language-txt extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("./my-rule-store\n├── node_modules\n├── package-lock.json\n├── package.json\n├── provider\n├── surgio.conf.js\n└── template\n")])])]),s("p",[t._v("你只需要关心高亮的 "),s("em",[t._v("surgio.conf.js")]),t._v(", "),s("em",[t._v("provider")]),t._v(" 和 "),s("em",[t._v("template")]),t._v(" 三个东西。")]),t._v(" "),s("p",[t._v("仓库中已经包含了一些用于演示的代码。我们会在后面一节说明如何自定义它们。")]),t._v(" "),s("h2",{attrs:{id:"生成规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成规则"}},[t._v("#")]),t._v(" 生成规则")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("npx surgio generate\n")])])]),s("p",[t._v("规则已经生成到 "),s("code",[t._v("dist")]),t._v(" 目录了。")]),t._v(" "),s("img",{attrs:{src:"/generate-result.png",width:"318"}}),t._v(" "),s("h2",{attrs:{id:"上传规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传规则"}},[t._v("#")]),t._v(" 上传规则")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("npx surgio upload\n")])])]),s("p",[t._v("你也可以使用预设好的组合命令，生成后上传规则：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run update\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("请确保已配置阿里云 OSS。")])]),t._v(" "),s("h2",{attrs:{id:"样例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#样例"}},[t._v("#")]),t._v(" 样例")]),t._v(" "),s("p",[t._v("除了你使用 init 命令生成的初始仓库之外，你还可以在 "),s("a",{attrs:{href:"https://github.com/geekdada/surgio/tree/master/examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v(" 找到其它使用样例。")]),t._v(" "),s("h2",{attrs:{id:"升级-surgio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级-surgio"}},[t._v("#")]),t._v(" 升级 Surgio")]),t._v(" "),s("p",[t._v("确保你当前的版本和新版没有兼容性问题后，运行下面命令即可。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" surgio@latest --save\n")])])]),s("h2",{attrs:{id:"配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),s("p",[t._v("Surgio 的配置文件位于目录内的 "),s("code",[t._v("surgio.conf.js")]),t._v("。")])])}),[],!1,null,null,null);a.default=r.exports}}]);